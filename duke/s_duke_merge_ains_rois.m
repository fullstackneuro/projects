function s_duke_merge_ains_rois
% merges two mat rois, saves as single mat roi

datapath = '/cylon/matproc';

subjects = {'dnd005','dnd006','dnd007','dnd011','dnd012','dnd013','dnd014', ...
            'dnd016','dnd018','dnd019','dnd021','dnd022','dnd023','dnd027', ...
            'dnd029','dnd030','dnd031','dnd032','dnd033','dnd034','dnd037', ...
            'dnd039','dnd041','dnd042','dnd043','dnd044','dnd045', ...
            'dnd046','dnd048','dnd050','dnd052','dnd057','dnd058','dnd060', ...
            'dnd062','dnd065','dnd069','dnd070','dnd072','dnd073','dnd074', ...
            'dnd077','dnd078','dnd080','dnd083','dnd084','dnd087','dnd088', ...
            'dnd089','dnd090','dnd091','dnd092','dnd093','dnd094','dnd096', ...
            'dnd097','dnd098','dnd099','dnd100','dnd102','dnd104','dnd105', ...
            'dnd107','dnd109','dnd110','dnd111','dnd113','dnd114','dnd115', ...
            'dnd118','dnd119','dnd121'};
        
%dnd040 no dwi

hemis = {'lh','rh'};

for isubj = 1:length(subjects)
    roiPath = fullfile(datapath,subjects{isubj},'ROIs');
    for hemi = 1:length(hemis)
        roi1name = [hemis{hemi} '_antins_a2009s_fd.mat'];
        roi2name = [hemis{hemi} '_shortins_a2009s_fd.mat'];
        roi1    = dtiReadRoi(fullfile(roiPath, roi1name));
        roi2    = dtiReadRoi(fullfile(roiPath, roi2name));
        newRoiName = fullfile(roiPath,[hemis{hemi} '_antshortins_fd.mat']);
        newRoi     = dtiMergeROIs(roi1,roi2);
        dtiWriteRoi(newRoi, newRoiName)
    end
end